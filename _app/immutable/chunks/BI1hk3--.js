import{J as fe,x as ie,A as w,M as R,C as se,I as le,g as D,ae as te,af as J,K as S,B as k,ag as ue,ah as y,P as Z,y as $,D as ve,ai as j,N as K,aj as P,ak as oe,al as ce,am as de,z as _e,Q as he,an as pe,q as Ee,ao as q,ap as L,m as me,U as Q,aq as ee,_ as Ae,ar as xe,as as Ie,at as Te,c as ge,h as X,ad as we,u as Ce,au as F,av as be,aw as ke,w as Ne}from"./8mD8WfQ1.js";function Re(f,e){return e}function ye(f,e,a,s){for(var l=[],t=e.length,v=0;v<t;v++)oe(e[v].e,l,!0);var h=t>0&&l.length===0&&a!==null;if(h){var c=a.parentNode;ce(c),c.append(a),s.clear(),T(f,e[0].prev,e[t-1].next)}de(l,()=>{for(var _=0;_<t;_++){var d=e[_];h||(s.delete(d.k),T(f,d.prev,d.next)),_e(d.e,!h)}})}function Se(f,e,a,s,l,t=null){var v=f,h={flags:e,items:new Map,first:null},c=(e&ee)!==0;if(c){var _=f;v=w?R(le(_)):_.appendChild(fe())}w&&se();var d=null,x=!1,g=he(()=>{var r=a();return Ae(r)?r:r==null?[]:j(r)});ie(()=>{var r=D(g),i=r.length;if(x&&i===0)return;x=i===0;let o=!1;if(w){var C=v.data===te;C!==(i===0)&&(v=J(),R(v),S(!1),o=!0)}if(w){for(var p=null,E,m=0;m<i;m++){if(k.nodeType===8&&k.data===ue){v=k,o=!0,S(!1);break}var A=r[m],n=s(A,m);E=ae(k,h,p,null,A,n,m,l,e,a),h.items.set(n,E),p=E}i>0&&R(J())}if(!w){var u=pe;De(r,h,v,l,e,(u.f&y)!==0,s,a)}t!==null&&(i===0?d?Z(d):d=$(()=>t(v)):d!==null&&ve(d,()=>{d=null})),o&&S(!0),D(g)}),w&&(v=k)}function De(f,e,a,s,l,t,v,h){var B,U,V,Y;var c=(l&xe)!==0,_=(l&(q|L))!==0,d=f.length,x=e.items,g=e.first,r=g,i,o=null,C,p=[],E=[],m,A,n,u;if(c)for(u=0;u<d;u+=1)m=f[u],A=v(m,u),n=x.get(A),n!==void 0&&((B=n.a)==null||B.measure(),(C??(C=new Set)).add(n));for(u=0;u<d;u+=1){if(m=f[u],A=v(m,u),n=x.get(A),n===void 0){var re=r?r.e.nodes_start:a;o=ae(re,e,o,o===null?e.first:o.next,m,A,u,s,l,h),x.set(A,o),p=[],E=[],r=o.next;continue}if(_&&He(n,m,u,l),n.e.f&y&&(Z(n.e),c&&((U=n.a)==null||U.unfix(),(C??(C=new Set)).delete(n))),n!==r){if(i!==void 0&&i.has(n)){if(p.length<E.length){var N=E[0],I;o=N.prev;var O=p[0],H=p[p.length-1];for(I=0;I<p.length;I+=1)G(p[I],N,a);for(I=0;I<E.length;I+=1)i.delete(E[I]);T(e,O.prev,H.next),T(e,o,O),T(e,H,N),r=N,o=H,u-=1,p=[],E=[]}else i.delete(n),G(n,r,a),T(e,n.prev,n.next),T(e,n,o===null?e.first:o.next),T(e,o,n),o=n;continue}for(p=[],E=[];r!==null&&r.k!==A;)(t||!(r.e.f&y))&&(i??(i=new Set)).add(r),E.push(r),r=r.next;if(r===null)continue;n=r}p.push(n),o=n,r=n.next}if(r!==null||i!==void 0){for(var b=i===void 0?[]:j(i);r!==null;)(t||!(r.e.f&y))&&b.push(r),r=r.next;var M=b.length;if(M>0){var ne=l&ee&&d===0?a:null;if(c){for(u=0;u<M;u+=1)(V=b[u].a)==null||V.measure();for(u=0;u<M;u+=1)(Y=b[u].a)==null||Y.fix()}ye(e,b,ne,x)}}c&&Ee(()=>{var z;if(C!==void 0)for(n of C)(z=n.a)==null||z.apply()}),K.first=e.first&&e.first.e,K.last=o&&o.e}function He(f,e,a,s){s&q&&P(f.v,e),s&L?P(f.i,a):f.i=a}function ae(f,e,a,s,l,t,v,h,c,_){var d=(c&q)!==0,x=(c&Ie)===0,g=d?x?me(l):Q(l):l,r=c&L?Q(v):v,i={i:r,v:g,k:t,a:null,e:null,prev:a,next:s};try{return i.e=$(()=>h(f,g,r,_),w),i.e.prev=a&&a.e,i.e.next=s&&s.e,a===null?e.first=i:(a.next=i,a.e.next=i.e),s!==null&&(s.prev=i,s.e.prev=i.e),i}finally{}}function G(f,e,a){for(var s=f.next?f.next.e.nodes_start:a,l=e?e.e.nodes_start:a,t=f.e.nodes_start;t!==s;){var v=Te(t);l.before(t),t=v}}function T(f,e,a){e===null?f.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function qe(f=!1){const e=we,a=e.l.u;if(!a)return;let s=()=>ke(e.s);if(f){let l=0,t={};const v=Ne(()=>{let h=!1;const c=e.s;for(const _ in c)c[_]!==t[_]&&(t[_]=c[_],h=!0);return h&&l++,l});s=()=>D(v)}a.b.length&&ge(()=>{W(e,s),F(a.b)}),X(()=>{const l=Ce(()=>a.m.map(be));return()=>{for(const t of l)typeof t=="function"&&t()}}),a.a.length&&X(()=>{W(e,s),F(a.a)})}function W(f,e){if(f.l.s)for(const a of f.l.s)D(a);e()}export{qe as a,Se as e,Re as i};
